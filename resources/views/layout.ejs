<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet"
    href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&family=Pacifico&display=swap"
    rel="stylesheet">
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <link rel="stylesheet" href="/css/app.css">
  <title>ShopEasy - Go to Sneaker Shop</title>
</head>

<body>
  <nav class="container mx-auto flex items-center justify-between py-4">
    <div>
      <a href="/">
        <img class="md:w-1/2 sm:w-24 w-8 " src="/images/logo.png" alt="">
      </a>
    </div>
    <div>
      <ul class="flex items-center">
        <li class="ml-3 md:ml-6"><a href="/">Explore</a></li>
        <li class="ml-3 md:ml-6"><a href="/about">About</a></li>
        <% if (user) { %>
          <li class="ml-3 md:ml-6">
            <form id="logout" action="/logout" method="POST">
              <a href="/" onclick="event.preventDefault(); document.getElementById('logout').submit();">Logout</a>
            </form>
          </li>
          <% } else { %>
            <li class="ml-3 md:ml-6"><a href="/register">Register</a></li>
            <li class="ml-3 md:ml-6"><a href="/login">Login</a></li>
            <% } %>
              <li class="ml-3 md:ml-6 rounded-xl"><a href="/cart" class="p-2 flex items-center">
                  <span id="cartCounter" class="text-white text-sm md:text-lg font-semibold sm:pr-1">
                    <%= session.cart ? session.cart.totalQty : '' %>
                  </span>
                  <img src="/images/cart.png" class="" alt="cart">
                </a></li>
      </ul>
    </div>
  </nav>

  <%- body %>
    <footer class="bg-gray-200 mt-auto">
      <div class="px-4 pt-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8">
        <div class="grid gap-10 row-gap-6 mb-8 sm:grid-cols-2 lg:grid-cols-4">
          <div class="sm:col-span-2">
            <a href="/" aria-label="Go home" title="Company" class="inline-flex items-center">
              <svg class="w-8" viewBox="0 0 24 24" stroke-linejoin="round" stroke-width="2" stroke-linecap="round"
                stroke-miterlimit="10" stroke="#ff3c00" fill="#ff3c00">
                <rect x="3" y="1" width="7" height="12"></rect>
                <rect x="3" y="17" width="7" height="6"></rect>
                <rect x="14" y="1" width="7" height="6"></rect>
                <rect x="14" y="11" width="7" height="12"></rect>
              </svg>
              <span class="ml-2 text-xl font-bold tracking-wide">ShopEasy</span>
            </a>
            <div class="mt-6 lg:max-w-sm">
              <p class="text-sm text-gray-800">
                Step into Style - Your Ultimate Sneaker Destination! Explore our curated collection of the latest trends
                and iconic classics.
              </p>
              <p class="mt-4 text-sm text-gray-800">
                From streetwear staples to performance powerhouses, find the perfect pair that
                speaks to your unique style
              </p>
            </div>
          </div>
          <div class="space-y-2 text-sm">
            <p class="text-base font-bold tracking-wide">Contacts</p>
            <div class="flex">
              <p class="mr-1">Phone:</p>
              <a href="tel:+91 75958320411" aria-label="Our phone" title="Our phone" class="hover:text-blue-500">+91
                75958320411</a>
            </div>
            <div class="flex">
              <p class="mr-1">Email:</p>
              <a href="mailto:tiwariaayush682@outlook.com" aria-label="Our email" title="Our email"
                class="hover:text-blue-500">tiwariaayush682@outlook.com</a>
            </div>
            <div class="flex">
              <p class="mr-1">Address:</p>
              <a href="https://www.google.com/maps" target="_blank" rel="noopener noreferrer" aria-label="Our address"
                title="Our address" class="hover:text-blue-500">
                28 Mallick Para Kona, Howrah
              </a>
            </div>
          </div>
          <div>
            <span class="text-base font-bold tracking-wide">Social</span>
            <div class="flex items-center mt-1 space-x-3">
              <a href="https://github.com/aayush682" target="_blank" class="text-orange-700 hover:text-blue-500">
                <svg fill="currentColor" class="h-5" viewBox="0 0 24 24">
                  <path
                    d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                </svg>
              </a>
              <a href="https://www.instagram.com/aayush_682/" target="_blank"
                class="text-orange-700 hover:text-blue-500">
                <svg viewBox="0 0 30 30" fill="currentColor" class="h-6">
                  <circle cx="15" cy="15" r="4"></circle>
                  <path
                    d="M19.999,3h-10C6.14,3,3,6.141,3,10.001v10C3,23.86,6.141,27,10.001,27h10C23.86,27,27,23.859,27,19.999v-10   C27,6.14,23.859,3,19.999,3z M15,21c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S18.309,21,15,21z M22,9c-0.552,0-1-0.448-1-1   c0-0.552,0.448-1,1-1s1,0.448,1,1C23,8.552,22.552,9,22,9z">
                  </path>
                </svg>
              </a>
              <a href="https://www.linkedin.com/in/tiwariaayush682/" target="_blank"
                class="text-orange-700  hover:text-blue-500">
                <svg fill="currentColor" class="h-5" viewBox="0 0 24 24">
                  <path
                    d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" />
                </svg>
              </a>
            </div>
            <p class="mt-4 text-sm text-gray-800 ">
              Walk the talk with comfort, quality, and cutting-edge designs. Elevate your sneaker game with us - where
              fashion meets
              function. Stay ahead, step ahead!
            </p>
          </div>
        </div>
        <div class="flex flex-col-reverse justify-between pt-5 pb-10 border-t lg:flex-row">
          <p class="text-sm hover:text-blue-500">
            © Copyright 2024 ShopEasy Inc. All rights reserved.
          </p>
          <ul class="flex flex-col mb-3 space-y-2 lg:mb-0 sm:space-y-0 sm:space-x-5 sm:flex-row">
            <li>
              <a href="/about" class="text-sm hover:text-blue-500">About
                Us</a>
            </li>
            <li>
              <a href="/register" class="text-sm hover:text-blue-500">Create An
                Account</a>
            </li>
            <li>
              <a href="https://aayush682.github.io/MyPortfolio/" target="_blank"
                class="text-sm hover:text-blue-500">Created
                By Aayush</a>
            </li>
          </ul>
        </div>
      </div>
    </footer>
    <script src=" /js/app.js"></script>
    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- Initialize Swiper -->
    <script>
      var swiper = new Swiper(".mySwiper", {});
    </script>
    <script>
      let page = 1;

      // Asynchronously loads more shoes from the API and appends them to the shoes container.
      const loadMore = async () => {
        try {
          const spinner = document.getElementById('loading-spinner');
          spinner.style.display = 'block';
          const response = await fetch(`/api/shoes?page=${page + 1}`);
          const newShoes = await response.json();
          console.log(newShoes);

          const shoesContainer = document.getElementById('shoes-container');
          const noMoreShoes = document.getElementById('no-more-shoes');

          if (newShoes.length > 0) {
            newShoes.forEach((shoe) => {
              shoesContainer.innerHTML += `
          <div class="w-full">
            <img class="h-48 mb-4 mx-auto" src="/images/${shoe.image}" alt="">
            <div class="text-center">
              <h2 class="mb-4 text-lg font-semibold">${shoe.name}</h2>
              <span class="py-1 px-4 bg-gray-200 rounded-2xl uppercase">Size: ${shoe.size}</span>
              <div class="flex items-center justify-around mt-6">
                <span class="font-bold text-lg">₹ ${shoe.price}</span>
                <button data-shoe="${JSON.stringify(shoe)}"
                  class="add-to-cart py-1 px-6 rounded-full bg-gray-200 flex items-center font-bold">
                  <span>+</span>
                  <span class="ml-4">Add</span>
                </button>
              </div>
            </div>
          </div>
        `;
            });

            page += 1;
          } else {
            const loadMoreBtn = document.getElementById('load-more-btn');
            loadMoreBtn.style.display = 'none';
            // show no more shoes message
            noMoreShoes.innerText = 'No more shoes to load!!';
            noMoreShoes.style.display = 'block';
          }
          spinner.style.display = 'none';
        } catch (error) {
          console.error('Error fetching shoes:', error);
        }
      };
    </script>
</body>

</html>
